<?xml version="1.0"?>
<Entity>
	<Name>TaskRelated</Name>
	<Type>Single</Type>
	<Table>
		<Name>TaskRelated</Name>
		<Column>
			<Name>TaskRelatedCode</Name>
			<DataType>System.String</DataType>
			<IsKey>true</IsKey>
			<IsAllowNull>false</IsAllowNull>
			<ColumnSize>50</ColumnSize>
		</Column>
		<Column>
			<Name>WBSCode</Name>
			<DataType>System.String</DataType>
			<IsKey>false</IsKey>
			<IsAllowNull>true</IsAllowNull>
			<ColumnSize>50</ColumnSize>
		</Column>
		<Column>
			<Name>RelatedWBSCode</Name>
			<DataType>System.String</DataType>
			<IsKey>false</IsKey>
			<IsAllowNull>true</IsAllowNull>
			<ColumnSize>50</ColumnSize>
		</Column>
		<Sql>
			<Name>Select</Name>
			<String> select  TaskRelatedCode, WBSCode, RelatedWBSCode from TaskRelated where  TaskRelatedCode=@TaskRelatedCode</String>
			<CommandType>Text</CommandType>
			<Param>
				<Name>@TaskRelatedCode</Name>
				<Column>TaskRelatedCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
		</Sql>
		<Sql>
			<Name>SelectAll</Name>
			<String> select  TaskRelatedCode, WBSCode, RelatedWBSCode from TaskRelated</String>
			<CommandType>Text</CommandType>
		</Sql>
		<Sql>
			<Name>Insert</Name>
			<String> Insert into TaskRelated (  TaskRelatedCode, WBSCode, RelatedWBSCode ) values (  @TaskRelatedCode, @WBSCode, @RelatedWBSCode )</String>
			<CommandType>Text</CommandType>
			<Param>
				<Name>@TaskRelatedCode</Name>
				<Column>TaskRelatedCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
			<Param>
				<Name>@WBSCode</Name>
				<Column>WBSCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
			<Param>
				<Name>@RelatedWBSCode</Name>
				<Column>RelatedWBSCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
		</Sql>
		<Sql>
			<Name>Update</Name>
			<String> Update TaskRelated set WBSCode=@WBSCode,RelatedWBSCode=@RelatedWBSCode where  TaskRelatedCode=@TaskRelatedCode</String>
			<CommandType>Text</CommandType>
			<Param>
				<Name>@TaskRelatedCode</Name>
				<Column>TaskRelatedCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
			<Param>
				<Name>@WBSCode</Name>
				<Column>WBSCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
			<Param>
				<Name>@RelatedWBSCode</Name>
				<Column>RelatedWBSCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
		</Sql>
		<Sql>
			<Name>Delete</Name>
			<String> Delete from TaskRelated  where  TaskRelatedCode=@TaskRelatedCode</String>
			<CommandType>Text</CommandType>
			<Param>
				<Name>@TaskRelatedCode</Name>
				<Column>TaskRelatedCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
		</Sql>
		<Sql>
			<Name>SelectByWBSCode</Name>
			<String> select  A.TaskRelatedCode, A.WBSCode,B.WBSCODE AS TWBSCODE ,A. RelatedWBSCode,B.TaskName,B.ActualStartDate,B.ActualFinishDate ,B.ImportantLevel,B.PlannedStartDate,B.PlannedFinishDate,B.Status,B.PreWBSCode from TaskRelated A,Task B where  A.WBSCode=@WBSCode and A.RelatedWBSCode=B.WBSCode</String>
			<CommandType>Text</CommandType>
			<Param>
				<Name>@WBSCode</Name>
				<Column>WBSCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
		</Sql>
		<Sql>
			<Name>SelectByRelatedWBSCode</Name>
			<String> select  TaskRelatedCode, WBSCode, RelatedWBSCode from TaskRelated where  RelatedWBSCode=@RelatedWBSCode</String>
			<CommandType>Text</CommandType>
			<Param>
				<Name>@RelatedWBSCode</Name>
				<Column>RelatedWBSCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
		</Sql>
		<Sql>
			<Name>SelectDoubleRelatedByCode</Name>
			<String> select * from taskrelated where taskrelatedcode=@TaskRelatedCode union select * from taskrelated where ( wbscode=(select relatedwbscode from taskrelated where taskrelatedcode=@TaskRelatedCode) and  relatedwbscode = (select wbscode from taskrelated where taskrelatedcode=@TaskRelatedCode) )</String>
			<CommandType>Text</CommandType>
			<Param>
				<Name>@TaskRelatedCode</Name>
				<Column>TaskRelatedCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
		</Sql>
	</Table>
</Entity>