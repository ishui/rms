<?xml version="1.0"?>
<Entity>
  <Name>WorkFlowRole</Name>
  <Type>Single</Type>
  <Table>
    <Name>WorkFlowRole</Name>
    <Column>
      <Name>WorkFlowRoleCode</Name>
      <DataType>System.String</DataType>
      <IsKey>true</IsKey>
      <IsAllowNull>false</IsAllowNull>
      <ColumnSize>50</ColumnSize>
    </Column>
    <Column>
      <Name>RoleName</Name>
      <DataType>System.String</DataType>
      <IsKey>false</IsKey>
      <IsAllowNull>true</IsAllowNull>
      <ColumnSize>50</ColumnSize>
    </Column>
    <Column>
      <Name>RoleType</Name>
      <DataType>System.String</DataType>
      <IsKey>false</IsKey>
      <IsAllowNull>true</IsAllowNull>
      <ColumnSize>50</ColumnSize>
    </Column>
    <Column>
      <Name>ProcedureCode</Name>
      <DataType>System.String</DataType>
      <IsKey>false</IsKey>
      <IsAllowNull>true</IsAllowNull>
      <ColumnSize>50</ColumnSize>
    </Column>
    <Column>
      <Name>Remak</Name>
      <DataType>System.String</DataType>
      <IsKey>false</IsKey>
      <IsAllowNull>true</IsAllowNull>
      <ColumnSize>200</ColumnSize>
    </Column>
    <Column>
      <Name>IsAllUser</Name>
      <DataType>System.String</DataType>
      <IsKey>false</IsKey>
      <IsAllowNull>true</IsAllowNull>
      <ColumnSize>50</ColumnSize>
    </Column>
    <Sql>
      <Name>Select</Name>
      <String> select  WorkFlowRoleCode, RoleName, RoleType, ProcedureCode, Remak, IsAllUser from WorkFlowRole where  WorkFlowRoleCode=@WorkFlowRoleCode</String>
      <CommandType>Text</CommandType>
      <Param>
        <Name>@WorkFlowRoleCode</Name>
        <Column>WorkFlowRoleCode</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
    </Sql>
    <Sql>
      <Name>SelectAll</Name>
      <String> select  WorkFlowRoleCode, RoleName, RoleType, ProcedureCode, Remak, IsAllUser from WorkFlowRole</String>
      <CommandType>Text</CommandType>
    </Sql>
    <Sql>
      <Name>Insert</Name>
      <String> Insert into WorkFlowRole (  WorkFlowRoleCode, RoleName, RoleType, ProcedureCode, Remak, IsAllUser ) values (  @WorkFlowRoleCode, @RoleName, @RoleType, @ProcedureCode, @Remak, @IsAllUser )</String>
      <CommandType>Text</CommandType>
      <Param>
        <Name>@WorkFlowRoleCode</Name>
        <Column>WorkFlowRoleCode</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
      <Param>
        <Name>@RoleName</Name>
        <Column>RoleName</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
      <Param>
        <Name>@RoleType</Name>
        <Column>RoleType</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
      <Param>
        <Name>@ProcedureCode</Name>
        <Column>ProcedureCode</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
      <Param>
        <Name>@Remak</Name>
        <Column>Remak</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
      <Param>
        <Name>@IsAllUser</Name>
        <Column>IsAllUser</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
    </Sql>
    <Sql>
      <Name>Update</Name>
      <String> Update WorkFlowRole set RoleName=@RoleName,RoleType=@RoleType,ProcedureCode=@ProcedureCode,Remak=@Remak,IsAllUser=@IsAllUser where  WorkFlowRoleCode=@WorkFlowRoleCode</String>
      <CommandType>Text</CommandType>
      <Param>
        <Name>@WorkFlowRoleCode</Name>
        <Column>WorkFlowRoleCode</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
      <Param>
        <Name>@RoleName</Name>
        <Column>RoleName</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
      <Param>
        <Name>@RoleType</Name>
        <Column>RoleType</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
      <Param>
        <Name>@ProcedureCode</Name>
        <Column>ProcedureCode</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
      <Param>
        <Name>@Remak</Name>
        <Column>Remak</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
      <Param>
        <Name>@IsAllUser</Name>
        <Column>IsAllUser</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
    </Sql>
    <Sql>
      <Name>Delete</Name>
      <String> Delete from WorkFlowRole  where  WorkFlowRoleCode=@WorkFlowRoleCode</String>
      <CommandType>Text</CommandType>
      <Param>
        <Name>@WorkFlowRoleCode</Name>
        <Column>WorkFlowRoleCode</Column>
        <SqlDbType>VarChar</SqlDbType>
      </Param>
    </Sql>
		<Sql>
			<Name>SelectByProcedureCode</Name>
			<!--<String>select * from WorkFlowRole where ProcedureCode=@ProcedureCode</String>-->
			<String>
        select * from WorkFlowRole where ProcedureCode=@ProcedureCode
        union all
        select WorkFlowRoleCode,RoleName,'2' as 'RoleType',@ProcedureCode as 'ProcedureCode',Remak,IsAllUser from WorkFlowRole where RoleType = '1' and ProcedureCode!=@ProcedureCode and @ProcedureCode in (select ProcedureCode from WorkFlowProcedure where  ProcedureCode=@ProcedureCode)</String>
			<CommandType>Text</CommandType>
			<Param>
				<Name>@ProcedureCode</Name>
				<Column>ProcedureCode</Column>
				<SqlDbType>VarChar</SqlDbType>
			</Param>
		</Sql>
	</Table>
</Entity>